# ๐ ููุฒุฉ ุชุนุฏูู ุฏุฑุฌุงุช ูุนุงููุฑ ุงูุชูููู ูู ุงูุฅุฏูู

## ุงููุตู
ูุฐู ุงูููุฒุฉ ุชุณูุญ ููุฅุฏูู (ุงููุดุฑู) ุจุชุนุฏูู ุฏุฑุฌุงุช ูุนุงููุฑ ุงูุชูููู ูุฃู ูุฑูู ูุจุงุดุฑุฉ ูู ููุญุฉ ุงูุชุญููุ ูุน ุฅุนุงุฏุฉ ุญุณุงุจ ุงููุชูุณุท ุชููุงุฆูุงู ูุฅุถุงูุฉ ููุงุญุธุฉ ุชูุถุญ ุฃู ุงูุชุนุฏูู ุชู ูู ูุจู ุงูุฅุฏูู.

## ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ
โ **ุชุนุฏูู ุงูุฏุฑุฌุงุช**: ุงูุฅุฏูู ููููู ุชุนุฏูู ุฏุฑุฌุฉ ุฃู ูุนูุงุฑ ุชูููู (0-10)  
โ **ุฅุนุงุฏุฉ ุญุณุงุจ ุงููุชูุณุท**: ูุชู ุญุณุงุจ ุงููุชูุณุท ุงูุฌุฏูุฏ ุชููุงุฆูุงู ุจุนุฏ ุงูุชุนุฏูู  
โ **ุชุนููู ุชูุถูุญู**: ูู ุชุนุฏูู ูุชู ุชุณุฌููู ูุน ููุงุญุธุฉ "ุชู ุงูุชุนุฏูู ูู ุงูุงุฏูู"  
โ **ูุงุฌูุฉ ุณููุฉ**: ูุงุฌูุฉ ุจุณูุทุฉ ููุฏูุฉ ูู ููุญุฉ ุชุญูู ุงูุฅุฏูู  
โ **ุชุชุจุน ุงูุฃุฎุทุงุก**: ุฌููุน ุงูุชุนุฏููุงุช ูุชู ุชุชุจุนูุง ูุน ุงูุณูุงุญ ุจุฅุถุงูุฉ ููุงุญุธุงุช ุฅุถุงููุฉ  

## ุงูุชุบููุฑุงุช ุงููุทุจูุฉ

### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ุฅุถุงูุฉ ุนููุฏ**: `admin_note` ุฅูู ุฌุฏูู `evaluation_scores`
- **ููุน ุงูุจูุงูุงุช**: TEXT
- **ุงูุญุงูุฉ**: ุงุฎุชูุงุฑู (NULL)
- **ุงูููุฑุณ**: ุชู ุฅุถุงูุฉ ููุฑุณ ูุชุญุณูู ุงูุฃุฏุงุก

```sql
ALTER TABLE evaluation_scores ADD COLUMN admin_note TEXT DEFAULT NULL;
CREATE INDEX idx_evaluation_scores_admin_modified ON evaluation_scores(admin_note);
```

### 2. API ุงูุฌุฏูุฏุฉ

#### 1๏ธโฃ ุชุญุฏูุซ ุฏุฑุฌุฉ ูุนูุงุฑ (PUT)
```
PUT /api/admin/evaluation-scores/:scoreId
```
**ุงููุฏุฎูุงุช:**
```json
{
  "score": 8.5,
  "adminNote": "ููุงุญุธุฉ ุงุฎุชูุงุฑูุฉ ุฅุถุงููุฉ"
}
```
**ุงููุฎุฑุฌุงุช:**
```json
{
  "message": "Score updated successfully",
  "score": {
    "id": 123,
    "evaluation_id": 45,
    "criterion_key": "innovation",
    "score": 8.5,
    "admin_note": "ุชู ุงูุชุนุฏูู ูู ุงูุงุฏูู: ููุงุญุธุฉ ุฅุถุงููุฉ",
    "updated_at": "2024-01-31T12:30:00Z"
  },
  "newTotalForEvaluation": 85.5
}
```

#### 2๏ธโฃ ุงูุญุตูู ุนูู ุชููููุงุช ุงููุฑูู (GET)
```
GET /api/admin/team-evaluations/:teamId
```
**ุงููุฎุฑุฌุงุช:**
```json
{
  "team": {
    "id": 1,
    "name": "Team Name",
    "team_number": 101,
    "hall": "A"
  },
  "evaluations": [
    {
      "evaluation_id": 45,
      "judge_id": 2,
      "judge_name": "Judge Name",
      "judge_hall": "A",
      "scores": [
        {
          "score_id": 123,
          "criterion_key": "innovation",
          "criterion_name": "Innovation & Creativity",
          "score": 8.5,
          "weight": 15,
          "admin_note": "ุชู ุงูุชุนุฏูู ูู ุงูุงุฏูู: ุชุตุญูุญ ุงูุฎุทุฃ"
        }
      ]
    }
  ]
}
```

### 3. ุงููุงุฌูุฉ ุงูุฃูุงููุฉ

#### ูููุน ุงูููุฒุฉ
- **ุงูุตูุญุฉ**: `public/admin-dashboard.html`
- **ุงููุณู**: "ุชุนุฏูู ุฏุฑุฌุงุช ุงููุนุงููุฑ"

#### ุงูููููุงุช:
1. **ูุงุฆูุฉ ุงุฎุชูุงุฑ ุงููุฑูู**: ูุงุฎุชูุงุฑ ุงููุฑูู ุงููุฑุงุฏ ุชุนุฏูู ุฏุฑุฌุงุชู
2. **ุฌุฏูู ุงูุฏุฑุฌุงุช**: ูุนุฑุถ ุฌููุน ุงูุชููููุงุช ูุงูุฏุฑุฌุงุช ููู ุญูู
3. **ุฒุฑ ุงูุชุนุฏูู**: ููู ุฏุฑุฌุฉ ููุชุญ ูููุฐุฌ ุงูุชุนุฏูู
4. **ูููุฐุฌ ุงูุชุนุฏูู**: Modal ูุณูุญ ุจุฅุฏุฎุงู ุงูุฏุฑุฌุฉ ุงูุฌุฏูุฏุฉ ูุงูููุงุญุธุฉ

#### ูููุงุช JavaScript:
- `public/js/admin-dashboard-edit-scores.js`: ุงูููุทู ุงูุฑุฆูุณู

## ุทุฑููุฉ ุงูุงุณุชุฎุฏุงู

### ูู ุงูุฅุฏูู:
1. ุงุฐูุจ ุฅูู ููุญุฉ ุชุญูู ุงูุฅุฏูู
2. ุงุจุญุซ ุนู ูุณู "ุชุนุฏูู ุฏุฑุฌุงุช ุงููุนุงููุฑ"
3. ุงุฎุชุฑ ุงููุฑูู ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
4. ุณูุธูุฑ ุฌุฏูู ุจุฌููุน ุงูุชููููุงุช ููุฐุง ุงููุฑูู
5. ุงุถุบุท ุนูู "ุชุนุฏูู" ุจุฌูุงุฑ ุงูุฏุฑุฌุฉ ุงูุชู ุชุฑูุฏ ุชุนุฏูููุง
6. ุฃุฏุฎู ุงูุฏุฑุฌุฉ ุงูุฌุฏูุฏุฉ (0-10)
7. ุฃุถู ููุงุญุธุฉ ุงุฎุชูุงุฑูุฉ ุชูุถุญ ุณุจุจ ุงูุชุนุฏูู
8. ุงุถุบุท "ุญูุธ ุงูุชุนุฏูู"

### ูู ุงูู API:
```bash
# ุงูุญุตูู ุนูู ุชููููุงุช ุงููุฑูู
curl -X GET http://localhost:3000/api/admin/team-evaluations/1 \
  -H "Authorization: Bearer YOUR_TOKEN"

# ุชุญุฏูุซ ุฏุฑุฌุฉ
curl -X PUT http://localhost:3000/api/admin/evaluation-scores/123 \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{"score": 8.5, "adminNote": "ุชุตุญูุญ ุฎุทุฃ"}'
```

## ูุนุงููุฑ ุงูุชูููู

ุฌููุน ุงูุฏุฑุฌุงุช ูุฌุจ ุฃู ุชููู ุจูู 0 ู 10:
- **0-3**: ุถุนูู ุฌุฏุงู
- **4-5**: ุถุนูู
- **6-7**: ุฌูุฏ
- **8-9**: ููุชุงุฒ
- **10**: ููุชุงุฒ ุฌุฏุงู

## ููุงุญุธุงุช ุงูุฃูุงู
โ **ุงูุชุญูู ูู ุงูุตูุงุญูุงุช**: ูุฌุจ ุฃู ูููู ุงููุณุชุฎุฏู admin ููุท  
โ **ุงูุชุญูู ูู ุงููุฏุฎูุงุช**: ุฌููุน ุงูุจูุงูุงุช ูุชู ุงูุชุญูู ูููุง  
โ **ุงูุชุชุจุน**: ุฌููุน ุงูุชุนุฏููุงุช ูุชู ุญูุธูุง ูุน ููุงุญุธุฉ ูุงุถุญุฉ  

## ูููุงุช ุงูุชุนุฏูู
- `routes/admin.js` - ุฅุถุงูุฉ API endpoints
- `public/admin-dashboard.html` - ุฅุถุงูุฉ ุงููุงุฌูุฉ
- `public/js/admin-dashboard-edit-scores.js` - ููุทู ุงููุงุฌูุฉ
- `migrationAddAdminNote.js` - script migration ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ุงูุงุฎุชุจุงุฑ
```bash
node test_admin_score_editing.js
```

## ุงููุชุทูุจุงุช
- Node.js >= 12
- PostgreSQL
- ุงูุตูุงุญูุงุช: admin ููุท

---
**ุชุงุฑูุฎ ุงูุฅูุดุงุก**: 31 ููุงูุฑ 2026  
**ุงูุฅุตุฏุงุฑ**: 1.0.0
